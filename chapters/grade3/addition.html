<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Grade 3 â€¢ Addition</title>
  <link rel="stylesheet" href="../../assets/styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Floating Background Shapes -->
  <!-- <div class="floating-shapes">
    <div class="floating-shape" style="top: 10%; left: 10%; font-size: 60px;">â•</div>
    <div class="floating-shape" style="top: 20%; right: 15%; font-size: 50px;">ğŸ”¢</div>
    <div class="floating-shape" style="top: 60%; left: 5%; font-size: 70px;">ğŸ“Š</div>
    <div class="floating-shape" style="top: 70%; right: 10%; font-size: 55px;">ğŸ¯</div>
    <div class="floating-shape" style="top: 40%; left: 70%; font-size: 45px;">âœ¨</div>
  </div> -->

  <div class="topbar">
    <div class="wrap">
      <div class="brand"><span class="logo"></span> AIS Practice</div>
      <a class="btn ghost" href="../../index.html">ğŸ  Home</a>
      <div class="row small muted" style="margin-left:auto">
        <span>Topic:</span><strong id="topic-title" style="color: var(--text-light);">â• Grade 3 â€¢ Addition</strong>
      </div>
    </div>
  </div>

  <div class="container shell">
    <main>
      <section class="card prompt" id="prompt"></section>
      <section class="card workspace">
        <input id="answer" type="text" placeholder="Type your answerâ€¦" />
        <div class="actions">
          <button id="checkBtn" class="btn primary">âœ¨ Check</button>
          <button id="hintBtn" class="btn">ğŸ’¡ Hint</button>
          <button id="skipBtn" class="btn">â­ï¸ Skip</button>
          <button id="nextBtn" class="btn">â¡ï¸ Next</button>
        </div>
        <div id="feedback" class="feedback"></div>
      </section>
      <nav class="nav-rail">
        <button id="prevTopic" class="btn">â† Prev Topic</button>
        <button id="nextTopic" class="btn">Next Topic â†’</button>
      </nav>
    </main>
    <aside>
      <section class="card hud">
        <div class="tile">ğŸ† Score<br><strong id="score">0</strong></div>
        <div class="tile">ğŸ¯ Attempts<br><strong id="attempts">0</strong></div>
        <div class="tile">ğŸ“ˆ Mastery<br><strong id="mastery">0%</strong></div>
      </section>
      <section class="card">
        <div>ğŸ”¥ Streak: <strong id="streakVal">0</strong></div>
        <p class="small muted">Tip: Press Enter to submit faster.</p>
      </section>
    </aside>
  </div>

  <script src="../../engine/ui.js"></script>
  <script src="../../engine/core.js"></script>
  <script>
    document.addEventListener('keydown', (e)=>{{ if(e.key==='Enter'){{ document.getElementById('checkBtn').click(); }} }});
    const TOPIC_ID = "addition";
    window.IxlLite.loadTopic({
      topicId: TOPIC_ID,
      dataUrl: "../../data/addition.json",
      titleEl: document.getElementById("topic-title"),
      promptEl: document.getElementById("prompt"),
      answerEl: document.getElementById("answer"),
      feedbackEl: document.getElementById("feedback"),
      scoreEl: document.getElementById("score"),
      attemptsEl: document.getElementById("attempts"),
      masteryEl: document.getElementById("mastery"),
      streakEl: document.getElementById("streakVal"),
      buttons: {
        check: document.getElementById("checkBtn"),
        next: document.getElementById("nextBtn"),
        skip: document.getElementById("skipBtn"),
        hint: document.getElementById("hintBtn")
      },
      nav: {
        prevBtn: document.getElementById("prevTopic"),
        nextBtn: document.getElementById("nextTopic"),
        manifestUrl: "../../manifest.json"
      }
    });
  </script>
  <script>
    (function(){
      const parts = location.pathname.split('/').filter(Boolean);
      const depth = Math.max(0, parts.length - 1);
      const prefix = '../'.repeat(depth);
      const s = document.createElement('script');
      s.src = prefix + 'assets/global-nav.js';
      s.defer = true;
      document.body.appendChild(s);
    })();
  </script>
</body>
</html>
