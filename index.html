<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IXL-lite â€¢ Interactive Learning Platform</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Static Educational Background -->
  <div class="edu-background">
    <div class="edu-emoji" style="top: 8%; left: 12%;">ğŸ“š</div>
    <div class="edu-emoji" style="top: 15%; right: 18%;">ï¿½</div>
    <div class="edu-emoji" style="top: 25%; left: 75%;">âœï¸</div>
    <div class="edu-emoji" style="top: 35%; left: 8%;">ğŸ”¢</div>
    <div class="edu-emoji" style="top: 45%; right: 12%;">ğŸ“</div>
    <div class="edu-emoji" style="top: 55%; left: 65%;">ğŸ§®</div>
    <div class="edu-emoji" style="top: 65%; left: 20%;">ğŸ“Š</div>
    <div class="edu-emoji" style="top: 75%; right: 25%;">ğŸ¯</div>
    <div class="edu-emoji" style="top: 85%; left: 45%;">â­</div>
    <div class="edu-emoji" style="top: 20%; left: 40%;">ï¿½</div>
    <div class="edu-emoji" style="top: 60%; right: 45%;">ğŸ’¡</div>
    <div class="edu-emoji" style="top: 40%; left: 30%;">ï¿½</div>
  </div>

  <div class="topbar">
    <div class="wrap">
      <div class="brand">
        <span class="logo"></span> 
        <span>IXL-lite</span>
      </div>
      <nav class="subjects" aria-label="Subjects">
        <button class="subject-btn" data-subject="math">ğŸ§® Math</button>
        <a class="subject-btn" href="chapters/abacus/Soroban.html">ğŸª„ Abacus</a>
        <a class="subject-btn" href="chapters/chess/bishopEndgame.html">â™Ÿï¸ Chess</a>
        <button class="subject-btn" data-subject="python">ğŸ Python</button>
      </nav>
      <div class="subject-submenu" id="subjectSubmenu" hidden aria-hidden="true"></div>
    </div>
  </div>

  <div class="hero">
    <div class="hero-content">
      <h1>ğŸ“ LIVE 1-on-1 Tutoring</h1>
      <p>Call:- 91-8839694312 Whatsapp:- <a href="https://wa.me/918002416363" target="_blank">Chat Now</a></p>
    </div>
  </div>

  <div class="container">
    <div id="results" class="grid"></div>
  </div>

  <div class="footer small">
    âœ¨ IXL-lite â€” Colorful, interactive learning platform with visual activities âœ¨
  </div>

  <script src="engine/router.js"></script>
  <script>
    // Subject navigation interactivity (touch-friendly)
    (function(){
      const submenu = document.getElementById('subjectSubmenu');
      function showMath(){
        submenu.innerHTML = `
          <div class="submenu-inner">
            <div class="submenu-title">Math â€” choose a grade</div>
            <div class="submenu-actions">
              <a class="btn primary" href="chapters/grade3/addition.html">Grade 3</a>
              <a class="btn primary" href="chapters/grade7/integers.html">Grade 7</a>
            </div>
            <div class="submenu-note muted">Tap a grade to open its activities.</div>
          </div>`;
        submenu.hidden = false; submenu.setAttribute('aria-hidden','false');
      }

      function showPython(){
        submenu.innerHTML = `
          <div class="submenu-inner">
            <div class="submenu-title">Python â€” Interactive (coming soon)</div>
            <div class="submenu-actions">
              <a class="btn primary" href="chapters/python/index.html">Open Python Sandbox</a>
            </div>
            <div class="submenu-note muted">A lightweight Python playground will be available here.</div>
          </div>`;
        submenu.hidden = false; submenu.setAttribute('aria-hidden','false');
      }

      function hideSubmenu(){ submenu.hidden = true; submenu.setAttribute('aria-hidden','true'); }

      document.addEventListener('click', (e)=>{
        const btn = e.target.closest('.subject-btn');
        if(!btn) return;
        const subject = btn.dataset.subject;
        if(subject === 'math'){ showMath(); }
        else if(subject === 'python'){ showPython(); }
        else { hideSubmenu(); }
      });

      // close submenu when clicking outside or on Escape
      document.addEventListener('click', (e)=>{
        if(!e.target.closest('.subject-submenu') && !e.target.closest('.subject-btn')){
          hideSubmenu();
        }
      });
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') hideSubmenu(); });
    })();
  </script>
  <script>
    function render(list){
      const box = document.getElementById('results');
      box.innerHTML = list.map(item => `
        <article class="card">
          <div class="badge">${item.level}</div>
          <h3>${getTopicEmoji(item.slug)} ${item.title}</h3>
          <p class="muted">Grade level: ${getGradeLevel(item.slug)}</p>
          <div class="card-tags">
            ${(item.tags || []).slice(0, 3).map(tag => `<span class="tag">${tag}</span>`).join('')}
          </div>
          <a class="btn primary" href="chapters/${item.slug}.html">ğŸš€ Start Learning</a>
        </article>
      `).join('');
    }
    
    function getTopicEmoji(slug) {
      if (slug.includes('addition')) return 'â•';
      if (slug.includes('multiplication')) return 'âœ–ï¸';
      if (slug.includes('fractions')) return 'ğŸ°';
      if (slug.includes('place_value')) return 'ğŸ—ï¸';
      if (slug.includes('distributive')) return 'ğŸ§®';
      if (slug.includes('integers')) return 'ğŸ¯';
      if (slug.includes('geometry')) return 'ğŸ“';
      if (slug.includes('angles')) return 'ğŸ“';
      if (slug.includes('circles')) return 'â­•';
      return 'ğŸ“';
    }
    
    function getGradeLevel(slug) {
      if (slug.includes('grade3')) return 'Grade 3';
      if (slug.includes('grade7')) return 'Grade 7';
      if (slug.includes('grade9')) return 'Grade 9';
      if (slug.includes('geometry')) return 'High School';
      return 'Elementary';
    }
    
    async function main(){
      const tick = () => new Promise(r => setTimeout(r, 20));
      while(!window.Manifest){ await tick(); }
      render(window.Manifest);
      const q = document.getElementById('q');
      const btn = document.getElementById('searchBtn');
      function doSearch(){
        const term = q.value.toLowerCase().trim();
        const list = window.Manifest.filter(m => 
          m.title.toLowerCase().includes(term) ||
          m.slug.toLowerCase().includes(term) ||
          (m.tags||[]).join(',').toLowerCase().includes(term)
        );
        render(list.length ? list : window.Manifest);
      }
      btn.onclick = doSearch;
      q.onkeydown = (e)=>{ if(e.key==='Enter') doSearch(); };
    }
    main();
  </script>
</body>
</html>
  <script>
    (function(){
      const parts = location.pathname.split('/').filter(Boolean);
      const depth = Math.max(0, parts.length - 1);
      const prefix = '../'.repeat(depth);
      const s = document.createElement('script');
      s.src = prefix + 'assets/global-nav.js';
      s.defer = true;
      document.body.appendChild(s);
    })();
  </script>
